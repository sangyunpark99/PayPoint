 services:
   prometheus:
     image: prom/prometheus
     ports:
       - "9090:9090"
     volumes:
       - ./monitor/prometheus.yml:/etc/prometheus/prometheus.yml
     command:
       - '--config.file=/etc/prometheus/prometheus.yml'
       - '--storage.tsdb.path=/prometheus'
       - '--storage.tsdb.retention.time=15d'

   grafana:
     image: grafana/grafana
     ports:
       - "3000:3000"
     volumes:
       - grafana-data:/var/lib/grafana

 volumes:
   grafana-data:
   prometheus-data: